<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>KosherZmanim demo</title>
    <script src="https://unpkg.com/kosher-zmanim@0.6.0/dist/kosher-zmanim.min.js"></script>
  </head>
  <body>
    <h2>KosherZmanim demo</h2>
    <div>You can also open devtools and access <code>KosherZmanim</code> there.</div>
    <br/>

    <table>
      <tr>
        <td><label for="date">Date (ISO 8601)</label></td>
        <td><input id="date"/></td>
      </tr>
      <tr>
        <td><label for="timeZoneId">Timezone ID</label></td>
        <td><input id="timeZoneId" value="America/New_York"/></td>
      </tr>
      <tr>
        <td><label for="locationName">Location Name</label></td>
        <td><input id="locationName" value="Lakewood"/></td>
      </tr>
      <tr>
        <td><label for="latitude">Latitude</label></td>
        <td><input id="latitude" value="40.0821"/></td>
      </tr>
      <tr>
        <td><label for="longitude">Longitude</label></td>
        <td><input id="longitude" value="-74.2097"/></td>
      </tr>
      <tr>
        <td><label for="elevation">Elevation</label></td>
        <td><input id="elevation" value="0"/></td>
      </tr>
      <tr>
        <td><label for="complex">Complex Zmanim</label></td>
        <td><input type="checkbox" id="complex"/></td>
      </tr>
    </table>

    <br/>
    <button id="calculate">Calculate</button>

    <p></p>
    <pre id="output"></pre>

    <script>
      (function() {
        // Get the date
        document.querySelector("input#date").value = new Date().toISOString();

        // Add a listener for the Calculate button
        document.querySelector("button#calculate").addEventListener("click", function() {
          const options = {
            date: document.querySelector("input#date").value,
            timeZoneId: document.querySelector("input#timeZoneId").value,
            locationName: document.querySelector("input#locationName").value,
            latitude: Number.parseInt(document.querySelector("input#latitude").value),
            longitude: Number.parseInt(document.querySelector("input#longitude").value),
            elevation: Number.parseInt(document.querySelector("input#elevation").value),
            complexZmanim: document.querySelector("input#complex").checked,
          };

          // Output the results
          document.querySelector("#output").innerText = JSON.stringify(KosherZmanim.getZmanimJson(options), null, 2);
        });
      })();
    </script>
  </body>
</html>
